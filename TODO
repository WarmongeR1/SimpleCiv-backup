Файлы, надлежащие доработке, обработке, обдумке или же полному переписыванию:

    modules/cui/
    modules/landscape/
    main.с

Также:

    добавить текст лицензии (GNU GPL v2)
    добавить префиксы для modules/*, а то уже каша

Надо проверить переменные: w (ширина) и h (высота) карты, потому что местами они перепутаны.
